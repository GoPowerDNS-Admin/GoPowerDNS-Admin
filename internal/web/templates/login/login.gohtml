<!doctype html>
<html lang="en">
  <!--begin::Head-->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Log In | PowerDNS-Admin {{- /*gotype: models.Users*/}}</title>
    <!--begin::Accessibility Meta Tags-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" content="#007bff" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)" />
    <!--end::Accessibility Meta Tags-->
    <!--begin::Primary Meta Tags-->
    <meta name="title" content="PowerDNS-Admin | Login Page" />
    <meta name="description" content="PowerDNS-Admin Login Page" />
    <!--end::Primary Meta Tags-->
    <link rel="icon" href="static/img/favicon.png">
    <!--begin::Fonts-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css"
      integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q="
      crossorigin="anonymous"
      media="print"
      onload="this.media='all'"
    />
    <!--end::Fonts-->
    <!--begin::Third Party Plugin(Bootstrap Icons)-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
      crossorigin="anonymous"
    />
    <!--end::Third Party Plugin(Bootstrap Icons)-->
    <!--begin::Required Plugin(AdminLTE)-->
    <link rel="stylesheet" href="static/vendor/adminlte-v4/css/adminlte.min.css" />
    <!--end::Required Plugin(AdminLTE)-->
  </head>
  <!--end::Head-->
  <!--begin::Body-->
  <body class="login-page bg-body-secondary">
    <div class="login-box">
      <div class="login-logo">
        <a href="#"><b>PowerDNS</b>-Admin</a>
      </div>
      <!-- /.login-logo -->
      <div class="card">
        <div class="card-body login-card-body">
          <p class="login-box-msg">Sign in to start your session</p>

          {{ if .error }}
          <div class="alert alert-danger alert-dismissible">
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            {{ .error }}
          </div>
          {{ end }}

          {{ if or .ldap_enabled .local_db_enabled }}
          <form action="" method="post">
            <input type="hidden" name="_csrf_token" value="">

            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Username" name="username"
                     required autofocus {{ if .user.Username }} value="{{ .user.Username }}" {{ end }}>
              <div class="input-group-text"><span class="bi bi-person"></span></div>
            </div>

            <div class="input-group mb-3">
              <input type="password" class="form-control" placeholder="Password" name="password"
                     required {{ if .user.Password }} value="{{ .user.Password }}" {{ end }}>
              <div class="input-group-text"><span class="bi bi-lock-fill"></span></div>
            </div>

            {{ if .otp_field_enabled }}
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="OTP Token" name="otptoken"
                     autocomplete="off">
              <div class="input-group-text"><span class="bi bi-shield-lock"></span></div>
            </div>
            {{ end }}

            {{ if and .ldap_enabled .local_db_enabled }}
            <div class="mb-3">
              <select class="form-select" name="auth_method">
                <option value="LOCAL">LOCAL Authentication</option>
                {{ if .login_ldap_first }}
                <option value="LDAP" selected="selected">LDAP Authentication</option>
                {{ else }}
                <option value="LDAP">LDAP Authentication</option>
                {{ end }}
              </select>
            </div>
            {{ else if and .ldap_enabled not .local_db_enabled }}
            <input type="hidden" name="auth_method" value="LDAP">
            {{ else if and (.local_db_enabled) (not .ldap_enabled) }}
            <input type="hidden" name="auth_method" value="LOCAL">
            {{ else }}
            <input type="hidden" name="auth_method" value="LOCAL">
            {{ end }}

            <!--begin::Row-->
            <div class="row">
              <div class="col-8">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="remember" name="remember">
                  <label class="form-check-label" for="remember">Remember Me</label>
                </div>
              </div>
              <!-- /.col -->
              <div class="col-4">
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-primary">Sign In</button>
                </div>
              </div>
              <!-- /.col -->
            </div>
            <!--end::Row-->
          </form>
          {{ end }}
        </div>
        <!-- /.login-card-body -->
      </div>
    </div>
    <!-- /.login-box -->
    <div class="text-center pt-3">
      <p>Powered by <a href="https://powerdnsadmin.org" target="_blank">PowerDNS-Admin</a></p>
    </div>
    <!--begin::Required Plugin(popperjs for Bootstrap 5)-->
    <!-- <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script> -->
    <!--end::Required Plugin(popperjs for Bootstrap 5)-->
    <!--begin::Required Plugin(Bootstrap 5)-->
    <script
      src="static/vendor/bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
    <!--end::Required Plugin(Bootstrap 5)-->
    <!--begin::Required Plugin(AdminLTE)-->
    <script src="static/vendor/adminlte-v4/js/adminlte.min.js"></script>
    <!--end::Required Plugin(AdminLTE)-->

  </body>
  <!--end::Body-->
</html>
